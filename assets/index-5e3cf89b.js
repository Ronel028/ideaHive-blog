import{r as s,u as E,a as S,j as a,F as H,b as e,L as h,c as B,h as Z,m as I,d as w,I as O,_ as R,p as J,S as K,e as ne,M as U,f as m,A as le,l as Q,R as ie,g as L,i as se,B as oe}from"./vendor-0760e6d1.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function l(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=l(n);fetch(n.href,r)}})();const k=s.createContext({}),V=()=>{const t=E();s.useEffect(()=>{window.scrollTo(0,0)},[t.pathname])},F="/ideaHive-blog/assets/profile-alt-4e08e227.jpeg";const P=()=>{const t=S(),[d,l]=s.useState(!1),{user:i,setUser:n}=s.useContext(k),r=()=>{l(p=>!p)},c=()=>i.isLogin?a(H,{children:[e("li",{children:a(h,{to:"/post-blog",className:"link-desktop write-desktop",children:[e("svg",{width:"16",height:"16",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M15.75 2C4.5 2 3 12.5 2.25 17H3.7485C4.248 14.5003 5.49825 13.1255 7.5 12.875C10.5 12.5 12.75 9.875 13.5 7.625L12.375 6.875L13.125 6.125C13.875 5.375 14.628 4.25 15.75 2Z",fill:"#F1F1F1"})}),"Write"]})}),e("li",{className:"login-profile",children:a("label",{htmlFor:"profile",to:"contact",className:"link-desktop profile-desktop",children:[e("input",{type:"checkbox",id:"profile"}),"Hi, ",`${i.fname} ${i.lname}`,e("div",{className:"profile-container",children:e("img",{src:i.Image==="N/A"?F:i.Image,alt:`${i.fname} ${i.lname}`})}),a("div",{className:"menu-profile-desktop",children:[e(h,{to:"/account-settings",className:"user",children:"Account settings"}),e(h,{to:"/signup",className:"create-new",children:"Create new account"}),e("button",{className:"sign-out",onClick:o,children:"Sign out"})]})]})})]}):a(H,{children:[e("li",{children:e(h,{to:"/signin",className:"link-desktop",children:"Sign in"})}),e("li",{children:e(h,{to:"/signup",className:"link-desktop link-btn",children:"Sign up"})})]}),b=()=>i.isLogin?a(H,{children:[e("li",{children:e(h,{to:"/account-settings",className:"link-mobile",children:"Account settings"})}),e("li",{children:e(h,{to:"/signup",className:"link-mobile",children:"Create new account"})}),e("li",{children:e("button",{className:"link-mobile signout-mobile",onClick:o,children:"Sign out"})}),e("li",{children:a(h,{to:"/post-blog",className:"link-mobile",id:"btn",children:[e("svg",{width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M15.75 2C4.5 2 3 12.5 2.25 17H3.7485C4.248 14.5003 5.49825 13.1255 7.5 12.875C10.5 12.5 12.75 9.875 13.5 7.625L12.375 6.875L13.125 6.125C13.875 5.375 14.628 4.25 15.75 2Z",fill:"#F1F1F1"})}),"Write"]})})]}):a(H,{children:[e("li",{children:e(h,{to:"/signin",className:"link-mobile",children:"Sign in"})}),e("li",{children:e(h,{to:"/signup",className:"link-mobile",id:"btn",children:"Sign up"})})]}),o=async()=>{try{B.remove("access_token"),n({...i,isLogin:!1}),t("/signin")}catch{window.alert("Something's went wrong. Please try again")}};return a(H,{children:[e("nav",{className:"nav",children:a("div",{className:"wrapper nav-container",children:[e(h,{to:"/",className:"logo",children:"IdeaHive"}),a("ul",{className:"nav-links-desktop",children:[e("li",{children:e(h,{to:"/story",className:"link-desktop",children:"Story"})}),e("li",{children:e(h,{to:"/page-not-available",className:"link-desktop",children:"About"})}),e("li",{children:e(h,{to:"/page-not-available",className:"link-desktop",children:"Contact"})}),c()]}),a("label",{htmlFor:"menu",className:"menu-btn",children:[e("input",{type:"checkbox",name:"checkbox",id:"menu",onChange:r}),e("div",{className:"line line1"}),e("div",{className:"line line2"}),e("div",{className:"line line3"})]})]})}),a("div",{className:"nav-links-mobile",style:{top:d?"71px":""},children:[a("ul",{className:"links",children:[e("li",{children:e(h,{to:"/story",className:"link-mobile",children:"Story"})}),e("li",{children:e(h,{to:"/page-not-available",className:"link-mobile",children:"About"})}),e("li",{children:e(h,{to:"/page-not-available",className:"link-mobile",children:"Contact"})})]}),e("ul",{className:"auth",children:b()})]})]})};const re=t=>a("div",{className:"blog-container",children:[a("div",{className:"profile-container",children:[e("div",{className:"image-container",children:e("img",{src:t.profilePic,alt:t.bloggerName})}),e("h4",{children:t.bloggerName})]}),e(h,{to:`/blog-content?blogID=${t.userID}`,className:"blog-title",children:t.blogTitle}),a("p",{className:"blog-publish",children:["publish - ",Z(t.blogPublish).format("LL")]})]}),ce="/ideaHive-blog/assets/imgNotAvailable-060edb2e.jpeg";const G=t=>a("div",{className:"blog-info-container",children:[e("div",{className:"image-container",children:e("img",{src:t.featuredImage==="N/A"?ce:t.featuredImage,alt:""})}),a("div",{className:"blog-description",children:[a("div",{className:"blog-profile-container",children:[e("div",{className:"blog-image-container",children:e("img",{src:t.profileImage,alt:t.bloggerName})}),e("h3",{children:t.bloggerName})]}),a(h,{to:`/${t.contentLink}`,className:"blog-info",children:[e("h2",{className:"blog-title",children:t.blogTitle}),e("p",{className:"blog-desc",children:t.blogSummary})]}),a("p",{className:"date-publish",children:["Publish - ",Z(t.datePosted).format("LL")]})]})]}),Y="/ideaHive-blog/assets/featured-blog-5f0e854b.svg",de="/ideaHive-blog/assets/background-header-7db8c745.jpg";const me=()=>{V();const{blogList:t}=s.useContext(k),d=t.length>0?[...t].sort(()=>Math.random()-.5).slice(0,6).map((i,n)=>e(re,{userID:i.id,profilePic:i.profileImage,bloggerName:`${i.fname} ${i.lname}`,blogTitle:i.blogTitle,blogPublish:i.datePosted},n)):e("p",{children:"No blog post available"}),l=t.length>0?t.map((i,n)=>e(G,{contentLink:`blog-content?blogID=${i.id}`,featuredImage:i.featuredImage,profileImage:i.profileImage,bloggerName:`${i.fname} ${i.lname}`,blogTitle:i.blogTitle,blogSummary:i.summary,datePosted:i.datePosted},n)):e("p",{children:"No blog post available"});return a(I.div,{className:"home",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[a("header",{className:"header",children:[e(P,{}),e("main",{className:"hero",style:{backgroundImage:`url(${de})`,backgroundSize:"cover",backgroundPosition:"center center"},children:a("div",{className:"wrapper",children:[e("h1",{children:"Your daily dose of News, Life Experiences, and More"}),e("p",{children:"Expand your knowledge and learn something new every day."}),e("div",{className:"cta-container",children:e(h,{to:"/story",className:"hero-cta",id:"btn",children:"Start Reading"})})]})})]}),e("section",{className:"feature-section",children:a("div",{className:"wrapper",children:[a("h3",{className:"title",children:[e("img",{src:Y,alt:"featureBlog logo"}),"Featured blog posts"]}),e("div",{className:"featuredBlog-container",children:d})]})}),e("section",{className:"blog-section",children:a("div",{className:"wrapper blog-container",children:[e("aside",{className:"discover-container",children:a("div",{className:"sticky",children:[e("h3",{children:"Discover more what matters to you"}),a("div",{className:"topic-container",children:[e(h,{to:"/category?cat=programming",className:"topic",children:"Programming"}),e(h,{to:"/category?cat=technology",className:"topic",children:"Technology"}),e(h,{to:"/category?cat=science",className:"topic",children:"Science"}),e(h,{to:"/category?cat=space",className:"topic",children:"Space"}),e(h,{to:"/category?cat=daily-life",className:"topic",children:"Daily life"}),e(h,{to:"/category?cat=self-improvement",className:"topic",children:"Self Improvement"}),e(h,{to:"/category?cat=artificial-inteligence",className:"topic",children:"Artificial Inteligence"}),e(h,{to:"/category?cat=anime",className:"topic",children:"Anime"}),e(h,{to:"/category?cat=movies",className:"topic",children:"Movies"})]})]})}),a("div",{className:"blog-post-container",children:[a("h3",{className:"title",children:[e("img",{src:Y,alt:"featureBlog logo"}),"Blog posts"]}),e("div",{className:"blog",children:l})]})]})})]})};const ge=()=>{const t=S(),[d,l]=s.useState({fname:"",lname:"",email:"",password:""}),[i,n]=s.useState([]),r=o=>{const{name:p,value:u}=o.target;l({...d,[p]:u})},c=async o=>{o.preventDefault();const p=new FormData;Object.entries(d).forEach(([g,f])=>{p.append(g,f)});const u=await w.post("https://api-ideahive.vercel.app/user/register",p,{headers:{"Content-Type":"multipart/form-data"}});u.data.error?n(u.data.error):t("/signin")},b=()=>i.length>0?e(I.ul,{id:"error-message",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:i.map(o=>e("li",{children:o},o))}):"";return e(I.main,{className:"register-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:a("div",{className:"wrapper register",children:[e("h1",{children:"Create an account"}),a("p",{children:["Already have an account?"," ",e(h,{to:"/signin",className:"login-link",children:"Login"})]}),b(),a("form",{className:"register-form",onSubmit:c,children:[a("div",{className:"input-container fname",children:[e("label",{htmlFor:"fname",children:"First Name"}),e("input",{type:"text",name:"fname",id:"fname",onChange:r})]}),a("div",{className:"input-container lname",children:[e("label",{htmlFor:"lname",children:"Last Name"}),e("input",{type:"text",name:"lname",id:"lname",onChange:r})]}),a("div",{className:"input-container email",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{type:"email",name:"email",id:"email",onChange:r})]}),a("div",{className:"input-container password",children:[e("label",{htmlFor:"password",children:"Password"}),e("input",{type:"password",name:"password",id:"password",onChange:r})]}),e("div",{className:"register-btn",children:e("button",{type:"submit",id:"btn",children:"Create account"})})]})]})})};const he=t=>R.error(t),pe=()=>{const t=S(),{user:d,setUser:l}=s.useContext(k),[i,n]=s.useState({email:"",password:""}),[r,c]=s.useState(!1);s.useEffect(()=>{(async()=>{(await w.get("https://api-ideahive.vercel.app/user/verified",{headers:{Authorization:`Bearer ${B.get("access_token")}`}})).data.isLogin&&t("/")})()},[]);const b=u=>{const{name:g,value:f}=u.target;n({...i,[g]:f})},o=async u=>{u.preventDefault();try{c(!0);const g=await w.post("https://api-ideahive.vercel.app/user/signin",i,{headers:{"Content-Type":"application/json"},withCredentials:!0});if(g.data.isLogin)c(!1),l({...d,isLogin:g.data.isLogin,fname:g.data.userData[0].fname,lname:g.data.userData[0].lname,email:g.data.userData[0].email,about:g.data.userData[0].about,Image:g.data.userData[0].profileImage,birthDay:g.data.userData[0].birthDay}),B.set("access_token",g.data.token,{expires:1,secure:!0,sameSite:"none"}),t("/");else throw g.data.error}catch(g){he(g)}c(!1)},p=()=>r?e("span",{className:"loader"}):"";return e(I.main,{className:"signin-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:a("div",{className:"wrapper signin",children:[e("h1",{children:"Sign in"}),a("p",{children:["No account?"," ",e(h,{to:"/signup",className:"signup-link",children:"Create account"})]}),e(O,{position:"top-right",reverseOrder:!1}),a("form",{className:"signin-form",onSubmit:o,children:[a("div",{className:"input-container email",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{type:"email",name:"email",id:"email",onChange:b})]}),a("div",{className:"input-container password",children:[e("label",{htmlFor:"password",children:"Password"}),e("input",{type:"password",name:"password",id:"password",onChange:b})]}),e("div",{className:"signin-btn",children:a("button",{type:"submit",id:"btn",children:["Sign in",p()]})})]})]})})};const ue=()=>{V();const{blogList:t,setBlogList:d}=s.useContext(k),l=t.length>0?t.map((i,n)=>e(G,{contentLink:`blog-content?blogID=${i.id}`,featuredImage:i.featuredImage,profileImage:i.profileImage,bloggerName:`${i.fname} ${i.lname}`,blogTitle:i.blogTitle,blogSummary:i.summary,datePosted:i.datePosted},i.id)):"";return a(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[a("header",{className:"story-header",children:[e(P,{}),a("main",{className:"wrapper story-main",children:[e("h1",{className:"heading",children:"Stories, Ideas & News"}),e("p",{className:"subheading",children:"Stay ahead of the curve with the latest technology, news, and get knowledge from experience by other people."})]})]}),e("div",{className:"wrapper story-list",children:e("main",{className:"blog",children:l})})]})};const be=()=>{V(),s.useContext(k);const[t,d]=s.useState(!1),[l,i]=s.useState({fname:"",lname:"",about:"",profileImage:"",datePosted:"",blogTitle:"",blogContent:""}),n=S(),r=E().search,c=new URLSearchParams(r).get("blogID");return s.useEffect(()=>{(async()=>{try{d(!0);const o=await w.get(`https://api-ideahive.vercel.app/blog/blog-content?blogID=${c}`);if(o.data.blog.length>0)i({...l,fname:o.data.blog[0].fname,lname:o.data.blog[0].lname,about:o.data.blog[0].about,profileImage:o.data.blog[0].profileImage,datePosted:o.data.blog[0].datePosted,blogTitle:o.data.blog[0].blogTitle,blogContent:o.data.blog[0].blogContent});else throw o.data.msg;d(!1)}catch{n("/")}})()},[]),a(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[e("header",{children:e(P,{})}),e("main",{className:"blog-content-main",children:e("div",{className:"wrapper blog-content",children:t?e("p",{children:"Loading content, please hold on..."}):a(H,{children:[a("div",{className:"blog-content-left",children:[a("div",{className:"profile-container",children:[e("div",{className:"image-container",children:e("img",{src:l.profileImage,alt:""})}),a("div",{className:"name-container",children:[e("h5",{children:`${l.fname} ${l.lname}`}),a("p",{children:["Publish - ",Z(l.datePosted).format("LL")]})]})]}),a("div",{className:"content",children:[e("h1",{children:l.blogTitle}),e("div",{className:"markdown-output",dangerouslySetInnerHTML:{__html:J.sanitize(l.blogContent)}})]})]}),e("div",{className:"blog-content-right",children:a("div",{className:"sticky",children:[e("div",{className:"image-container",children:e("img",{src:l.profileImage,alt:""})}),e("h5",{children:`${l.fname} ${l.lname}`}),e("p",{className:"about",children:l.about})]})})]})})})]})},_=()=>{const t=S();s.useEffect(()=>{(async()=>{(await w.get("https://api-ideahive.vercel.app/user/verified",{headers:{Authorization:`Bearer ${B.get("access_token")}`}})).data.isLogin||t("/")})()},[t])};const fe=t=>{R.success(t)},ve=()=>{V(),S();const{user:t,blogList:d,isBlogUpdate:l,setIsBlogUpdate:i}=s.useContext(k),[n,r]=s.useState([]),[c,b]=s.useState(!1);_(),s.useEffect(()=>{l&&fe("Profile updated."),i(!1)},[]),s.useEffect(()=>{(async()=>{try{b(!0);const u=await w.get("https://api-ideahive.vercel.app/blog/user-blog",{headers:{Authorization:`Bearer ${B.get("access_token")}`}});if(u.data.msg==="success")r(u.data.userBlog);else throw u.data.msg;b(!1)}catch{}})()},[]);const o=n.length>0?n.map((p,u)=>e(G,{contentLink:`manage-blog?blogId=${p.id}`,featuredImage:p.featuredImage,profileImage:p.profileImage,bloggerName:`${p.fname} ${p.lname}`,blogTitle:p.blogTitle,blogSumary:p.summary,datePosted:p.datePosted},p.id)):e("p",{children:"No blog post available"});return a(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[e(P,{}),e(O,{position:"top-right",reverseOrder:!1}),e("main",{className:"profile-main",children:a("div",{className:"wrapper profile-container",children:[a("div",{className:"profile-title",children:[e("h3",{children:"Profile Information"}),e("div",{className:"edit-profile-container",children:a(h,{to:"/update-profile",className:"edit-profile",children:[e("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M7.5 15.75H3.75C2.9175 15.75 2.25 15.0825 2.25 14.25V3.75C2.25 2.9175 2.9175 2.25 3.75 2.25H14.25C15.0825 2.25 15.75 2.9175 15.75 3.75V7.7475C15.525 7.6575 15.2775 7.605 15.03 7.605C14.7525 7.605 14.49 7.665 14.25 7.7775V3.75H3.75V14.25H7.5825L7.5 14.3325V15.75ZM5.25 6.75H12.75V5.25H5.25V6.75ZM5.25 12.75H9.0825L10.5 11.34V11.25H5.25V12.75ZM5.25 9.75H12.09L12.75 9.09V8.25H5.25V9.75ZM16.275 10.185L15.315 9.225C15.2379 9.14942 15.1342 9.10708 15.0262 9.10708C14.9183 9.10708 14.8146 9.14942 14.7375 9.225L13.9875 9.975L15.525 11.5125L16.275 10.7625C16.3506 10.6854 16.3929 10.5817 16.3929 10.4738C16.3929 10.3658 16.3506 10.2621 16.275 10.185ZM9 16.5H10.545L15.0825 11.9475L13.545 10.41L9 14.955V16.5Z",fill:"#0A4B88"})}),"Edit profile"]})})]}),a("div",{className:"profile",children:[e("div",{className:"profile-image",children:e("img",{src:t.Image==="N/A"?F:t.Image,alt:`${t.fname} ${t.lname}`})}),a("div",{className:"profile-name",children:[e("h4",{className:"name",children:`${t.fname} ${t.lname}`}),e("p",{className:"email",children:t.email}),a("p",{className:"join",children:["Join - ",Z(t.dateJoined).format("ll")]})]})]}),a("div",{className:"about-container",children:[e("h2",{className:"about",children:"About"}),e("p",{children:t.about==="N/A"?"N/A":t.about})]}),a("div",{className:"profile-blog",children:[e("h2",{children:"Blog"}),e("main",{className:"blog",children:c?e("p",{children:"Loading your blog. Please wait..."}):o})]})]})})]})};function q(t){return e("div",{className:"loading-container",children:a("div",{className:"loading",children:[e(K,{animation:"border",role:"status",children:e("span",{className:"visually-hidden",children:"Loading..."})}),t.loadingWord]})})}const Ne=t=>{R.error(t)},ye=t=>{R.success(t)},we=()=>{V();const t=E().search,d=S(),[l,i]=s.useState({fname:"",lname:"",profileImage:"",about:"",datePosted:"",blogTitle:"",blogContent:""}),{setBlogList:n,isBlogUpdate:r,setIsBlogUpdate:c}=s.useContext(k),[b,o]=s.useState(!1),[p,u]=s.useState(!1);s.useEffect(()=>{r&&ye("Blog updated."),c(!1)},[]),_();const g=new URLSearchParams(t).get("blogId");s.useEffect(()=>{(async()=>{try{u(!0);const v=await w.get(`https://api-ideahive.vercel.app/blog/blog-content?blogID=${g}`);if(v.data.blog.length>0)i({...l,fname:v.data.blog[0].fname,lname:v.data.blog[0].lname,profileImage:v.data.blog[0].profileImage,about:v.data.blog[0].about,datePosted:v.data.blog[0].datePosted,blogTitle:v.data.blog[0].blogTitle,blogContent:v.data.blog[0].blogContent});else throw v.data.msg;u(!1)}catch{d("/account-settings")}})()},[]);const f=()=>{try{ne({title:"Delete blog",message:"Are you sure to do this?",buttons:[{label:"Yes",onClick:async()=>{o(!0);const y=await w.delete(`https://api-ideahive.vercel.app/blog/delete-blog?blogId=${g}`,{headers:{Authorization:`Bearer ${B.get("access_token")}`}});if(y.data.msg==="success")n(y.data.blogList),d("/account-settings");else throw y.data.msg;o(!1)}},{label:"No",onClick:()=>{}}],closeOnClickOutside:!1})}catch(y){Ne(y.error)}},N=b?e(q,{loadingWord:"Deleting. Please wait..."}):"";return a(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[e("header",{children:e(P,{})}),e(O,{position:"top-right",reverseOrder:!1}),N,e("main",{className:"update-content-main",children:e("div",{className:"wrapper blog-content",children:p?e("p",{children:"Loading content, please hold on..."}):a(H,{children:[a("div",{className:"blog-content-left",children:[a("div",{className:"profile-container",children:[a("div",{className:"profile",children:[e("div",{className:"image-container",children:e("img",{src:l.profileImage==="N/A"?F:l.profileImage,alt:`${l.fname} ${l.lname}`})}),a("div",{className:"name-container",children:[e("h5",{children:`${l.fname} ${l.lname}`}),a("p",{children:["Publish - ",Z(l.datePosted).format("LL")]})]})]}),a("div",{className:"action",children:[e(h,{to:`/update-blog?blogId=${g}`,className:"update-blog",children:e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M10 21H5C3.89 21 3 20.11 3 19V5C3 3.89 3.89 3 5 3H19C20.11 3 21 3.89 21 5V10.33C20.7 10.21 20.37 10.14 20.04 10.14C19.67 10.14 19.32 10.22 19 10.37V5H5V19H10.11L10 19.11V21ZM7 9H17V7H7V9ZM7 17H12.11L14 15.12V15H7V17ZM7 13H16.12L17 12.12V11H7V13ZM21.7 13.58L20.42 12.3C20.3172 12.1992 20.179 12.1428 20.035 12.1428C19.891 12.1428 19.7528 12.1992 19.65 12.3L18.65 13.3L20.7 15.35L21.7 14.35C21.8008 14.2472 21.8572 14.109 21.8572 13.965C21.8572 13.821 21.8008 13.6828 21.7 13.58ZM12 22H14.06L20.11 15.93L18.06 13.88L12 19.94V22Z",fill:"#0A4B88"})})}),e("button",{className:"delete-blog",onClick:f,children:a("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M9 9H10.5V18H9V9ZM13.5 9H15V18H13.5V9Z",fill:"#C63434"}),e("path",{d:"M3 4.5V6H4.5V21C4.5 21.3978 4.65804 21.7794 4.93934 22.0607C5.22064 22.342 5.60218 22.5 6 22.5H18C18.3978 22.5 18.7794 22.342 19.0607 22.0607C19.342 21.7794 19.5 21.3978 19.5 21V6H21V4.5H3ZM6 21V6H18V21H6ZM9 1.5H15V3H9V1.5Z",fill:"#C63434"})]})})]})]}),a("div",{className:"content",children:[e("h1",{children:l.blogTitle}),e("div",{className:"markdown-output",dangerouslySetInnerHTML:{__html:J.sanitize(l.blogContent)}})]})]}),e("div",{className:"blog-content-right",children:a("div",{className:"sticky",children:[e("div",{className:"image-container",children:e("img",{src:l.profileImage==="N/A"?F:l.profileImage,alt:`${l.fname} ${l.lname}`})}),e("h5",{children:`${l.fname} ${l.lname}`}),e("p",{className:"about",children:l.about})]})})]})})})]})},X=t=>{const[d,l]=s.useState({isLogin:!1,userID:"",fname:"",lname:"",email:"",about:"",Image:"",birthDay:""}),[i,n]=s.useState(!1);return s.useEffect(()=>{(async()=>{try{n(!0);const c=await w.get(t,{headers:{Authorization:`Bearer ${B.get("access_token")}`}});if(c.data.isLogin&&c.data.userData&&c.data.userData.length>0)l({...d,isLogin:c.data.isLogin,userID:c.data.userData[0].id,fname:c.data.userData[0].fname,lname:c.data.userData[0].lname,email:c.data.userData[0].email,about:c.data.userData[0].about,Image:c.data.userData[0].profileImage,birthDay:c.data.userData[0].birthDay});else throw new Error("Invalid");n(!1)}catch(c){console.log(c.message)}})()},[]),[d,l,i]};function Ce(){return a("div",{className:"spinner-container",children:[e(K,{animation:"border",role:"status",size:"sm",children:e("span",{className:"visually-hidden",children:"Loading..."})}),"Please wait..."]})}const Le=t=>{const[d,l]=s.useState({password:"",retypePassword:""}),[i,n]=s.useState(""),[r,c]=s.useState(!1),b=g=>{l({...d,[g.target.name]:g.target.value})},o=async g=>{g.preventDefault(),c(!0);const f=await w.post("https://api-ideahive.vercel.app/user/update-password",d,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${B.get("access_token")}`}});f.data.msg==="success"?(l({...d,password:"",retypePassword:""}),t.setShowModal(!1),n(""),t.setAlertPassChange(!0)):n(f.data.msg),c(!1)},p=()=>i.length>0?a("div",{className:"change-password-error",children:[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22ZM12 20C14.1217 20 16.1566 19.1571 17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z",fill:"#292929"})}),i]}):"",u=r?e(Ce,{}):"";return e(H,{children:a(U,{show:t.show,onHide:t.closeModal,backdrop:"static",children:[e(U.Header,{closeButton:!0,children:a(U.Title,{className:"modal-title",children:[a("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M18 11C18.7 11 19.37 11.1 20 11.29V10C20 8.9 19.1 8 18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H12.26C11.5275 20.9511 11.0967 19.7214 11.0144 18.4447C10.9322 17.168 11.2017 15.8932 11.7935 14.759C12.3854 13.6247 13.277 12.6746 14.3712 12.0118C15.4655 11.349 16.7206 10.9991 18 11ZM8.9 6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1 6V8H8.9V6Z",fill:"#292929"}),e("path",{d:"M18 13C15.24 13 13 15.24 13 18C13 20.76 15.24 23 18 23C20.76 23 23 20.76 23 18C23 15.24 20.76 13 18 13ZM18 15C18.83 15 19.5 15.67 19.5 16.5C19.5 17.33 18.83 18 18 18C17.17 18 16.5 17.33 16.5 16.5C16.5 15.67 17.17 15 18 15ZM18 21C16.97 21 16.06 20.48 15.52 19.68C16.25 19.26 17.09 19 18 19C18.91 19 19.75 19.26 20.48 19.68C19.94 20.48 19.03 21 18 21Z",fill:"#292929"})]}),"Update your password"]})}),a(m,{onSubmit:o,children:[a(U.Body,{children:[u,p(),a(m.Group,{className:"mb-3",controlId:"formBasicEmail",children:[e(m.Label,{children:"Password"}),e(m.Control,{type:"password",placeholder:"password",name:"password",value:d.password,onChange:b})]}),a(m.Group,{className:"mb-3",controlId:"formBasicEmail",children:[e(m.Label,{children:"Retype password"}),e(m.Control,{type:"password",placeholder:"Retype password",name:"retypePassword",value:d.retypePassword,onChange:b})]})]}),e(U.Footer,{children:e("button",{className:"change-password-btn",children:"Update password"})})]})]})})};function Ie(t){return e(le,{variant:t.variant,onClose:()=>t.setAlertChange(!1),dismissible:!0,children:e("p",{children:t.message})})}const ke=()=>{const{user:t,setUser:d,setIsBlogUpdate:l}=s.useContext(k),i=S(),[n,r,c]=X("https://api-ideahive.vercel.app/user/info"),[b,o]=s.useState(""),[p,u]=s.useState(!1),[g,f]=s.useState(null);_(),s.useEffect(()=>()=>{g&&URL.revokeObjectURL(g)},[n.Image,g]);const N=M=>{const{name:x,value:A}=M.target;r({...n,[x]:A})},y=M=>{const x=M.target.files[0],A=new FileReader;r({...n,Image:M.target.files[0]}),f(URL.createObjectURL(M.target.files[0])),A.addEventListener("load",()=>{o(A.result)}),A.readAsDataURL(x)},v=async M=>{M.preventDefault();try{const x=new FormData;Object.entries(n).forEach(([ae,te])=>{x.append(ae,te)}),u(!0);const A=await w.post("https://api-ideahive.vercel.app/user/update",x,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${B.get("access_token")}`}});if(A.data.msg)u(!1),d({...t,fname:n.fname,lname:n.lname,email:n.email,about:n.about===""?"N/A":n.about,Image:g===null?t.Image:g,birthDay:n.birthDay}),l(!0),i("/account-settings");else throw A.data.error}catch(x){console.log(x)}},[$,T]=s.useState(!1),D=()=>T(!1),C=()=>T(!0),[j,z]=s.useState(!1),W=j?e(Ie,{variant:"success",message:"Password change success",setAlertChange:z}):"",ee=p?e(q,{loadingWord:"Saving your changes, just a moment..."}):"";return a(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[ee,e(P,{}),e(Le,{showModal:C,closeModal:D,show:$,setShowModal:T,setAlertPassChange:z}),e("main",{className:"main update-user-main",children:a("div",{className:"wrapper update-user-container",children:[e("div",{className:"title",children:e("h2",{children:"Account settings"})}),W,a("div",{className:"user-information",children:[e("h3",{children:"User information"}),e("p",{children:"Here you can edit public information about yourself."})]}),c?e("p",{children:"Loading profile. Please wait..."}):a("form",{method:"POST",className:"update-fields",onSubmit:v,children:[a("div",{className:"input-container",children:[a("div",{className:"update-image-container",children:[e("div",{className:"image-container",children:e("img",{src:b===""?n.Image==="N/A"?F:n.Image:b,alt:""})}),a("label",{htmlFor:"profile-pic",className:"profile-pic",children:[e("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M1.98145 10.3308V12.5428H4.19349L10.7175 6.01878L8.50549 3.80673L1.98145 10.3308ZM12.4282 4.30813C12.4829 4.25356 12.5262 4.18874 12.5558 4.11738C12.5854 4.04602 12.6007 3.96952 12.6007 3.89227C12.6007 3.81501 12.5854 3.73852 12.5558 3.66716C12.5262 3.5958 12.4829 3.53098 12.4282 3.4764L11.0479 2.09609C10.9933 2.04141 10.9285 1.99802 10.8571 1.96842C10.7858 1.93882 10.7093 1.92358 10.632 1.92358C10.5547 1.92358 10.4782 1.93882 10.4069 1.96842C10.3355 1.99802 10.2707 2.04141 10.2161 2.09609L9.13666 3.17557L11.3487 5.38761L12.4282 4.30813Z",fill:"#F1F1F1"})}),e("input",{type:"file",name:"profileImage",id:"profile-pic",onChange:y})]})]}),a("div",{className:"inputs",children:[a("div",{className:"full-name",children:[e("label",{children:"Full name"}),a("div",{className:"full-name-input",children:[e("input",{type:"text",name:"fname",id:"fname",placeholder:"First name",value:n.fname,onChange:N}),e("input",{type:"text",name:"lname",id:"lname",placeholder:"Last name",value:n.lname,onChange:N})]})]}),a("div",{className:"email-dob",children:[a("div",{className:"email-address",children:[e("label",{htmlFor:"email",children:"Email address"}),e("input",{type:"email",name:"email",id:"email",placeholder:"Email address",value:n.email,onChange:N})]}),a("div",{className:"birthDay",children:[e("label",{htmlFor:"birthDay",children:"Date of birth"}),e("input",{type:"date",name:"birthDay",id:"birthDay",defaultValue:n.birthDay==="N/A"?"":n.birthDay,onChange:N})]})]}),a("div",{className:"about",children:[e("label",{htmlFor:"about",children:"About"}),e("textarea",{name:"about",id:"about",rows:"5",placeholder:"Tell me something a little bit about yourself",value:n.about==="N/A"?"":n.about,onChange:N})]})]})]}),a("div",{className:"profile-btn-container",children:[e("button",{className:"change-password-btn",type:"button",onClick:C,children:"Change password"}),e("button",{type:"submit",className:"save-profile-btn",children:"Save profile"})]})]})]})})]})};const Be=t=>R(t,{icon:"ðŸ‘"}),Se=()=>{V(),S();const[t,d]=s.useState(!1),[l,i]=s.useState({blogTitle:"",Image:"N/A",category:"N/A",summary:""}),[n,r]=s.useState(""),{blogList:c,setBlogList:b}=s.useContext(k);_();const o={toolbar:[[{header:[2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],[{font:[]}],[{script:"sub"},{script:"super"}],["link","image"],["clean"]]},p=f=>{i({...l,[f.target.name]:f.target.name==="Image"?f.target.files[0]:f.target.value})},u=async f=>{f.preventDefault();const N=new FormData;Object.entries(l).forEach(([v,$])=>{N.append(v,$)}),N.append("blogContent",n),d(!0);const y=await w.post("https://api-ideahive.vercel.app/blog/add-blog",N,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${B.get("access_token")}`}});y.data.msg==="success"?(console.log(y.data.blogList),d(!1),Be("Great job! Your blog has been published"),i({...l,blogTitle:"",Image:"N/A",category:"N/A",summary:""}),r(""),b(y.data.blogList)):alert(console.log(y.data.msg))},g=t?e(q,{loadingWord:"Your blog post is being published, this might take a moment..."}):"";return a(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[g,e("header",{children:e(P,{})}),e("main",{className:"main add-blog-main",children:a("div",{className:"wrapper add-blog-container",children:[e("div",{className:"title title-page",children:e("h2",{children:"Post blog"})}),e(O,{position:"top-right",reverseOrder:!1,toastOptions:{duration:4e3}}),a("div",{className:"sub-heading",children:[e("h3",{children:"Create new blog"}),e("p",{children:"Here you can post your own blog."})]}),a(m,{className:"form",onSubmit:u,children:[a("div",{className:"input-container",children:[a(m.Group,{className:"mb-3",controlId:"blogTitle",children:[e(m.Label,{className:"label",children:"Blog title"}),e(m.Control,{type:"text",className:"input",name:"blogTitle",placeholder:"Blog title...",value:l.blogTitle,onChange:p,required:!0})]}),a(m.Group,{className:"mb-3",controlId:"featuredImage",children:[e(m.Label,{className:"label",children:"Featured image"}),e(m.Control,{type:"file",className:"input",name:"Image",placeholder:"featured image...",onChange:p})]})]}),a(m.Group,{className:"mb-3",controlId:"category",children:[e(m.Label,{className:"label",children:"Category"}),a(m.Select,{"aria-label":"Default select example",className:"input",name:"category",value:l.category,onChange:p,children:[e("option",{value:"",children:"Select Category"}),e("option",{value:"programming",children:"Programming"}),e("option",{value:"technology",children:"Technology"}),e("option",{value:"space",children:"Space"}),e("option",{value:"self-improvement",children:"Self Improvement"}),e("option",{value:"daily-life",children:"Daily Life"}),e("option",{value:"artificial-inteligence",children:"Artificial Inteligence"}),e("option",{value:"anime",children:"Anime"}),e("option",{value:"movies",children:"Movies"})]})]}),a(m.Group,{className:"mb-3",controlId:"summary",children:[a(m.Label,{className:"label",children:["Excerpt ",e("span",{children:"(short summary of your blog post)"})]}),e(m.Control,{type:"text",className:"input",name:"summary",placeholder:"Short summary...",value:l.summary,onChange:p,required:!0})]}),a(m.Group,{className:"mb-3",children:[e(m.Label,{className:"label",children:"Blog content"}),e(Q,{modules:o,theme:"snow",value:n,onChange:r})]}),a("div",{className:"post-btn-container",children:[e(h,{to:"/",className:"cancel-btn",children:"Cancel"}),e("button",{type:"submit",className:"post-btn",children:"Post"})]})]})]})})]})};const De=()=>{V();const t=S(),[d,l]=s.useState(!1),[i,n]=s.useState(!1),[r,c]=s.useState({blogTitle:"",Image:"N/A",category:"N/A",summary:""}),[b,o]=s.useState(""),{blogList:p,setBlogList:u,setIsBlogUpdate:g}=s.useContext(k),f=E().search;_();const N=new URLSearchParams(f).get("blogId");s.useEffect(()=>{(async()=>{n(!0);const C=await w.get(`https://api-ideahive.vercel.app/blog/blog-content?blogID=${N}`,{withCredentials:!0});c({...r,blogTitle:C.data.blog[0].blogTitle,Image:C.data.blog[0].featuredImage,category:C.data.blog[0].category,summary:C.data.blog[0].summary}),o(C.data.blog[0].blogContent),n(!1)})()},[]);const y={toolbar:[[{header:[2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],[{font:[]}],[{script:"sub"},{script:"super"}],["link","image"],["clean"]]},v=D=>{c({...r,[D.target.name]:D.target.name==="Image"?D.target.files[0]:D.target.value})},$=async D=>{D.preventDefault();try{const C=new FormData;Object.entries(r).forEach(([z,W])=>{C.append(z,W)}),C.append("blogContent",b),l(!0);const j=await w.post(`https://api-ideahive.vercel.app/blog/update-blog?blogId=${N}`,C,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${B.get("access_token")}`}});if(j.data.msg==="success")u(j.data.blogList),g(!0),t(`/manage-blog?blogId=${N}`);else throw"Error updating you blog. Please try again";l(!1)}catch(C){console.log(C.message)}},T=d?e(q,{loadingWord:"Your blog post is updating, this might take a moment..."}):"";return a(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[T,e("header",{children:e(P,{})}),e("main",{className:"main update-blog-main",children:a("div",{className:"wrapper update-blog-container",children:[e("div",{className:"title title-page",children:e("h2",{children:"Update blog"})}),e(O,{position:"top-right",reverseOrder:!1,toastOptions:{duration:4e3}}),a("div",{className:"sub-heading",children:[e("h3",{children:"Update your blog"}),e("p",{children:"Here you can update your own blog."})]}),i?e("p",{children:"Loading blog data. Please wait..."}):a(m,{className:"form",onSubmit:$,children:[a("div",{className:"input-container",children:[a(m.Group,{className:"mb-3",controlId:"blogTitle",children:[e(m.Label,{className:"label",children:"Blog title"}),e(m.Control,{type:"text",className:"input",name:"blogTitle",placeholder:"Blog title...",value:r.blogTitle,onChange:v,required:!0})]}),a(m.Group,{className:"mb-3",controlId:"featuredImage",children:[e(m.Label,{className:"label",children:"Featured image"}),e(m.Control,{type:"file",className:"input",name:"Image",placeholder:"featured image...",onChange:v})]})]}),a(m.Group,{className:"mb-3",controlId:"category",children:[e(m.Label,{className:"label",children:"Category"}),a(m.Select,{"aria-label":"Default select example",className:"input",name:"category",value:r.category,onChange:v,children:[e("option",{value:"",children:"Select Category"}),e("option",{value:"programming",children:"Programming"}),e("option",{value:"technology",children:"Technology"}),e("option",{value:"space",children:"Space"}),e("option",{value:"self-improvement",children:"Self Improvement"}),e("option",{value:"daily-life",children:"Daily Life"}),e("option",{value:"artificial-inteligence",children:"Artificial Inteligence"}),e("option",{value:"anime",children:"Anime"}),e("option",{value:"movies",children:"Movies"})]})]}),a(m.Group,{className:"mb-3",controlId:"summary",children:[a(m.Label,{className:"label",children:["Excerpt ",e("span",{children:"(short summary of your blog post)"})]}),e(m.Control,{type:"text",className:"input",name:"summary",placeholder:"Short summary...",value:r.summary,onChange:v,required:!0})]}),a(m.Group,{className:"mb-3",children:[e(m.Label,{className:"label",children:"Blog content"}),e(Q,{modules:y,theme:"snow",value:b,onChange:o})]}),a("div",{className:"post-btn-container",children:[e(h,{to:"/",className:"cancel-btn",children:"Cancel"}),e("button",{type:"submit",className:"post-btn",children:"Update"})]})]})]})})]})};const Pe=()=>{V();const{blogList:t,setBlogList:d}=s.useContext(k),l=E().search,i=new URLSearchParams(l).get("cat"),r=(i.charAt(0).toUpperCase()+i.slice(1)).replace("-"," "),c=t.filter(o=>o.category===i),b=t.length>0?c.length>0?c.map((o,p)=>e(G,{contentLink:`blog-content?blogID=${o.id}`,featuredImage:o.featuredImage,profileImage:o.profileImage,bloggerName:`${o.fname} ${o.lname}`,blogTitle:o.blogTitle,blogSummary:o.summary,datePosted:o.datePosted},o.id)):e("h3",{children:"No blog post found..."}):e("h3",{children:"No blog post found..."});return a(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[a("header",{className:"category-header",children:[e(P,{}),a("main",{className:"wrapper category-main",children:[e("h1",{className:"heading",children:r}),a("p",{className:"subheading",children:["List of all ",r," blog shared by ideaHive user."]})]})]}),e("div",{className:"wrapper story-list",children:e("main",{className:"blog",children:b})})]})};const xe=()=>e("div",{className:"pna-container",children:a("div",{className:"pna",children:[e("h1",{children:"This page is currently not available"}),e("p",{children:"Please check back later."}),e("a",{href:"/",class:"home-btn",id:"btn",children:"Back to Home"})]})}),Ae=t=>{const[d,l]=s.useState([]);return s.useEffect(()=>{(async()=>{const n=await w.get(t);n.data.msg==="success"?l(n.data.blogData):alert(n.data.msg)})()},[]),[d,l]};function He(){const[t,d]=X("https://api-ideahive.vercel.app/user/info"),[l,i]=Ae("https://api-ideahive.vercel.app/blog/get-blog"),[n,r]=s.useState(!1);return e(k.Provider,{value:{user:t,setUser:d,blogList:l,setBlogList:i,isBlogUpdate:n,setIsBlogUpdate:r},children:a(ie,{children:[e(L,{path:"/",element:e(me,{})}),e(L,{path:"/signup",element:e(ge,{})}),e(L,{path:"/signin",element:e(pe,{})}),e(L,{path:"/story",element:e(ue,{})}),e(L,{path:"/category",element:e(Pe,{})}),e(L,{path:"/blog-content",element:e(be,{})}),e(L,{path:"/account-settings",element:e(ve,{})}),e(L,{path:"/update-profile",element:e(ke,{})}),e(L,{path:"/manage-blog",element:e(we,{})}),e(L,{path:"/post-blog",element:e(Se,{})}),e(L,{path:"/update-blog",element:e(De,{})}),e(L,{path:"/page-not-available",element:e(xe,{})})]})})}se.createRoot(document.getElementById("root")).render(e(oe,{children:e(He,{})}));
//# sourceMappingURL=index-5e3cf89b.js.map
